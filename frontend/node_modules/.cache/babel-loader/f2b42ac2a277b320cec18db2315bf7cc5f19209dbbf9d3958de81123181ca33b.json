{"ast":null,"code":"var _jsxFileName = \"/Users/ronan.virmani/VSCode/mern-project/frontend/src/context/GroupContext.js\",\n  _s = $RefreshSig$();\nimport { createContext, useReducer, useEffect } from 'react';\nimport { useAuthContext } from './useAuthContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst GroupsContext = /*#__PURE__*/createContext();\nexport const groupsReducer = (state, action) => {\n  switch (action.type) {\n    case 'SET_GROUPS':\n      return {\n        groups: action.payload\n      };\n    case 'CREATE_GROUP':\n      return {\n        groups: [action.payload, ...state.groups]\n      };\n    case 'DELETE_GROUP':\n      return {\n        groups: state.groups.filter(g => g._id !== action.payload)\n      };\n    default:\n      return state;\n  }\n};\nexport const GroupsContextProvider = ({\n  children\n}) => {\n  _s();\n  const [state, dispatch] = useReducer(groupsReducer, {\n    groups: []\n  });\n  const {\n    user\n  } = useAuthContext();\n  useEffect(() => {\n    const fetchGroups = async () => {\n      if (user) {\n        const response = await fetch(`/api/users/${user._id}`);\n        const json = await response.json();\n        if (response.ok) {\n          dispatch({\n            type: 'SET_GROUPS',\n            payload: json.groups\n          });\n        }\n      }\n    };\n    fetchGroups();\n  }, [user]);\n  return /*#__PURE__*/_jsxDEV(GroupsContext.Provider, {\n    value: {\n      ...state,\n      dispatch\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n};\n_s(GroupsContextProvider, \"LUbSnt3dxnzjeCATTnriPMgX7tU=\", false, function () {\n  return [useAuthContext];\n});\n_c = GroupsContextProvider;\nexport default GroupsContext;\nvar _c;\n$RefreshReg$(_c, \"GroupsContextProvider\");","map":{"version":3,"names":["createContext","useReducer","useEffect","useAuthContext","jsxDEV","_jsxDEV","GroupsContext","groupsReducer","state","action","type","groups","payload","filter","g","_id","GroupsContextProvider","children","_s","dispatch","user","fetchGroups","response","fetch","json","ok","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/ronan.virmani/VSCode/mern-project/frontend/src/context/GroupContext.js"],"sourcesContent":["import { createContext, useReducer, useEffect } from 'react';\nimport { useAuthContext } from './useAuthContext';\n\nconst GroupsContext = createContext();\n\nexport const groupsReducer = (state, action) => {\n  switch (action.type) {\n    case 'SET_GROUPS':\n      return {\n        groups: action.payload\n      };\n    case 'CREATE_GROUP':\n      return {\n        groups: [action.payload, ...state.groups]\n      };\n    case 'DELETE_GROUP':\n      return {\n        groups: state.groups.filter((g) => g._id !== action.payload)\n      };\n    default:\n      return state;\n  }\n};\n\nexport const GroupsContextProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(groupsReducer, { groups: [] });\n  const { user } = useAuthContext();\n\n  useEffect(() => {\n    const fetchGroups = async () => {\n      if (user) {\n        const response = await fetch(`/api/users/${user._id}`);\n        const json = await response.json();\n\n        if (response.ok) {\n          dispatch({ type: 'SET_GROUPS', payload: json.groups });\n        }\n      }\n    };\n\n    fetchGroups();\n  }, [user]);\n\n  return (\n    <GroupsContext.Provider value={{ ...state, dispatch }}>\n      {children}\n    </GroupsContext.Provider>\n  );\n};\n\nexport default GroupsContext;\n"],"mappings":";;AAAA,SAASA,aAAa,EAAEC,UAAU,EAAEC,SAAS,QAAQ,OAAO;AAC5D,SAASC,cAAc,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAElD,MAAMC,aAAa,gBAAGN,aAAa,CAAC,CAAC;AAErC,OAAO,MAAMO,aAAa,GAAGA,CAACC,KAAK,EAAEC,MAAM,KAAK;EAC9C,QAAQA,MAAM,CAACC,IAAI;IACjB,KAAK,YAAY;MACf,OAAO;QACLC,MAAM,EAAEF,MAAM,CAACG;MACjB,CAAC;IACH,KAAK,cAAc;MACjB,OAAO;QACLD,MAAM,EAAE,CAACF,MAAM,CAACG,OAAO,EAAE,GAAGJ,KAAK,CAACG,MAAM;MAC1C,CAAC;IACH,KAAK,cAAc;MACjB,OAAO;QACLA,MAAM,EAAEH,KAAK,CAACG,MAAM,CAACE,MAAM,CAAEC,CAAC,IAAKA,CAAC,CAACC,GAAG,KAAKN,MAAM,CAACG,OAAO;MAC7D,CAAC;IACH;MACE,OAAOJ,KAAK;EAChB;AACF,CAAC;AAED,OAAO,MAAMQ,qBAAqB,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAAAC,EAAA;EACrD,MAAM,CAACV,KAAK,EAAEW,QAAQ,CAAC,GAAGlB,UAAU,CAACM,aAAa,EAAE;IAAEI,MAAM,EAAE;EAAG,CAAC,CAAC;EACnE,MAAM;IAAES;EAAK,CAAC,GAAGjB,cAAc,CAAC,CAAC;EAEjCD,SAAS,CAAC,MAAM;IACd,MAAMmB,WAAW,GAAG,MAAAA,CAAA,KAAY;MAC9B,IAAID,IAAI,EAAE;QACR,MAAME,QAAQ,GAAG,MAAMC,KAAK,CAAE,cAAaH,IAAI,CAACL,GAAI,EAAC,CAAC;QACtD,MAAMS,IAAI,GAAG,MAAMF,QAAQ,CAACE,IAAI,CAAC,CAAC;QAElC,IAAIF,QAAQ,CAACG,EAAE,EAAE;UACfN,QAAQ,CAAC;YAAET,IAAI,EAAE,YAAY;YAAEE,OAAO,EAAEY,IAAI,CAACb;UAAO,CAAC,CAAC;QACxD;MACF;IACF,CAAC;IAEDU,WAAW,CAAC,CAAC;EACf,CAAC,EAAE,CAACD,IAAI,CAAC,CAAC;EAEV,oBACEf,OAAA,CAACC,aAAa,CAACoB,QAAQ;IAACC,KAAK,EAAE;MAAE,GAAGnB,KAAK;MAAEW;IAAS,CAAE;IAAAF,QAAA,EACnDA;EAAQ;IAAAW,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACa,CAAC;AAE7B,CAAC;AAACb,EAAA,CAxBWF,qBAAqB;EAAA,QAEfb,cAAc;AAAA;AAAA6B,EAAA,GAFpBhB,qBAAqB;AA0BlC,eAAeV,aAAa;AAAC,IAAA0B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}